---
id: github-app
title: Create the GitHub App
type: tutorial
---

The GitHub App is used by the Glueops to access Tenant GitHub Organizations to provide the following services:

* Deployment of Tenant Applications via a [tenant-stack-repository](https://github.com/GlueOps/platform-helm-chart-platform/blob/main/templates/argocd-tenant-configs.yaml)
* Pull Request comments, generated by the [pull-request-bot](https://github.com/GlueOps/pull-request-bot), to display helpful links associated with preview environments.

## Create the GitHub App ID

To create the GitHub App, follow these steps:

1. Go to the Developers settings page on your Github Organization page.

<img width="370" alt="Screenshot 2023-07-19 at 14 19 33" src="https://github.com/GlueOps/glueops-dev/assets/39309699/592bf2d3-203c-4fc7-9579-0c640414637d"/>

2. Click on "New GitHub App" to start creating a new app.

<img width="642" alt="Screenshot 2023-07-19 at 14 25 06" src="https://github.com/GlueOps/glueops-dev/assets/39309699/a7558a0c-9a4d-46fe-a1e6-06ab99df944c"/>


3. Configure the application by providing the following details:

   - **GitHub App name**: Choose a unique name for your GitHub App. It's recommended to include a combination of the tenant name and "GlueOps" for easy identification.

   - **Homepage URL**: Specify the URL for the GitHub App's homepage. This URL can be anything, but it's recommended to use `http://glueops.dev` for consistency.

   <img width="402" alt="Screenshot 2023-07-19 at 15 19 55" src="https://github.com/GlueOps/glueops-dev/assets/39309699/cfb0c367-36d3-41fa-a3de-2bcbf9cd2b44"/>

   - **Webhook**: Deselect the "Active" option for webhooks, as they are not currently required by the GitHub App.

   - **Permissions**: Grant the following repository permissions to the GitHub App:
     - Contents: Read and write
     - Discussions: Read and write
     - Issues: Read and write
     - Metadata: Read-only (mandatory)
     - Pull requests: Read and write

   - **Where can this GitHub App be installed?**: Ensure that "Only on this account" is selected. This restricts the GitHub App to the specific tenant organization.

3. Click on "Create GitHub App" to create the GitHub App with the provided configuration.

<img width="563" alt="Screenshot 2023-07-19 at 15 24 01" src="https://github.com/GlueOps/glueops-dev/assets/39309699/8c0cf32e-3e2f-41d7-b810-bf9bc719e6dd"/>


4. After creating the GitHub App, you will be presented with an **App ID**. 

<img width="563" alt="Screenshot 2023-07-19 at 15 24 01" src="https://github.com/GlueOps/glueops-dev/assets/39309699/108a533b-69de-4ff9-a266-96354d6728ed"/>

## Generate the private key

To generate this key, follow these steps:

- On the GitHub App's homepage, select "Generate a private key." This will download a private key file.

<img width="395" alt="Screenshot 2023-07-19 at 14 32 25" src="https://github.com/GlueOps/glueops-dev/assets/39309699/37c0a0a0-f892-49d2-b62e-0cf19e21dc08"/>

- Open the downloaded key file and generate a Base64-encoded version using the following command:

```
cat <downloaded-keyfile>.pem | base64 -w 0
```
Replace `<downloaded-keyfile>` with the actual name of the downloaded key file.

:::info
For macbook users run `cat <downloaded-keyfile>.pem | base64`
:::

### Add Glueops Display logo
To add the logo to your your GitHub App, follow these steps:

- Download the image below
<img width="395" alt="Screenshot 2023-07-19 at 14 32 25" src="https://github.com/GlueOps/glueops-dev/assets/39309699/60278215-1711-4d0e-9d0e-fe674cdd58fd"/>

- On the GitHub App's homepage, click on "Upload logo" under the display information section.

<img width="416" alt="Screenshot 2023-07-19 at 14 30 29" src="https://github.com/GlueOps/glueops-dev/assets/39309699/5030575f-3af3-4299-9153-cf7650a316cb"/>

:::info
Customer can also upload their own image too
:::


## Get Installation ID

To complete the GitHub App setup, you need to install it in the tenant organization. Follow these steps:

- In the left side of the GitHub App's homepage, click on "Install App."

<img width="544" alt="Screenshot 2023-07-19 at 14 35 59" src="https://github.com/GlueOps/glueops-dev/assets/39309699/c593a23a-bb5b-479e-b39f-8956e10188c7"/>

- Confirm the installation by following the on-screen prompts.

- This ID can be retrieved from the URL of the App Installation Homepage

<img width="665" alt="Screenshot 2023-07-19 at 14 54 43" src="https://github.com/GlueOps/glueops-dev/assets/39309699/0416c340-2f9f-4045-92cf-c70b51a914ee"/>. 

If the tenant organization is "glueops-rocks," the URL would be `https://github.com/organizations/glueops-rocks/settings/installations/12345678`, and the GitHub Tenant App Installation ID would be `12345678`.

## Retrieving values

By completing these steps, the following values should be obtained from the GitHub App:

- [github_tenant_app_id](#create-the-github-app-id)
- [github_tenant_app_b64enc_private_key](#generate-the-private-key)
- [github_tenant_app_installation_id](#get-installation-id)

The values gotten from the steps above will be used in the deployment of the [terraform-module-cloud-multy-prerequisites](https://github.com/GlueOps/terraform-module-cloud-multy-prerequisites) module.
